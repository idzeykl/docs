---
title: 'Встроенные функции'
description: 'Встроенные функции языка IdzeyKL (строго по INSTRUCTIONS.md)'
---

# Встроенные функции

IdzeyKL предоставляет несколько встроенных функций:

### println(значение)

Выводит значение в консоль с переносом строки.

Пример:
```
println("Hello, World!"); // Выводит: Hello, World!
println(42);             // Выводит: 42
println(true);           // Выводит: true
```

### print(значение)

Выводит значение в консоль без переноса строки.

Пример:
```
print("Hello, ");
print("World!");
// Выводит: Hello, World!
```

## Функции работы с типами

### typeof(значение)

Возвращает тип значения в виде строки.

```ikl
typeof(42);      // "number"
typeof("hello"); // "string"
typeof(true);    // "boolean"
typeof({1, 2});  // "array"
typeof(null);    // "null"
```

## Функции для массивов

### array.length

Возвращает количество элементов в массиве.

```ikl
var numbers = {1, 2, 3, 4, 5};
var count = numbers.length; // 5
```

## Функции для строк

### string.length

Возвращает длину строки.

```ikl
var str = "Hello";
var len = str.length; // 5
```

## Математические функции

### abs(число)

Возвращает абсолютное значение числа.

```ikl
abs(-5);  // 5
abs(5);   // 5
abs(0);   // 0
```

### min(a, b)

Возвращает меньшее из двух чисел.

```ikl
min(5, 3);  // 3
min(-1, 1); // -1
```

### max(a, b)

Возвращает большее из двух чисел.

```ikl
max(5, 3);  // 5
max(-1, 1); // 1
```

### pow(основание, степень)

Возвращает основание, возведённое в степень.

```ikl
pow(2, 3);  // 8
pow(3, 2);  // 9
```

### sqrt(число)

Возвращает квадратный корень числа.

```ikl
sqrt(16); // 4
sqrt(2);  // 1.4142135623730951
```

### round(число)

Округляет число до ближайшего целого.

```ikl
round(3.7);  // 4
round(3.2);  // 3
round(-3.7); // -4
```

### floor(число)

Возвращает наибольшее целое, не превышающее число.

```ikl
floor(3.7);  // 3
floor(3.2);  // 3
floor(-3.7); // -4
```

### ceil(число)

Возвращает наименьшее целое, не меньшее числа.

```ikl
ceil(3.7);  // 4
ceil(3.2);  // 4
ceil(-3.7); // -3
```

## Функции случайных чисел

### random()

Возвращает случайное число от 0 (включительно) до 1 (не включительно).

```ikl
var r = random(); // Число от 0 до 1
```

### randomInt(min, max)

Возвращает случайное целое число от min (включительно) до max (не включительно).

```ikl
var r = randomInt(1, 10); // Число от 1 до 9
```

## Функции даты и времени

### now()

Возвращает текущую метку времени в миллисекундах с эпохи Unix.

```ikl
var timestamp = now();
```

### formatDate(timestamp, format)

Форматирует метку времени по заданному формату.

```ikl
var timestamp = now();
var date = formatDate(timestamp, "YYYY-MM-DD"); // например, "2024-03-14"
```

## Файловые функции

### readFile(путь)

Считывает содержимое файла как строку.

```ikl
var content = readFile("data.txt");
```

### writeFile(путь, содержимое)

Записывает содержимое в файл.

```ikl
writeFile("output.txt", "Hello, World!");
```

## Сетевые функции

### httpGet(url)

Выполняет HTTP GET-запрос по указанному адресу.

```ikl
var response = httpGet("https://api.example.com/data");
```

### httpPost(url, data)

Выполняет HTTP POST-запрос по указанному адресу с переданными данными.

```ikl
var data = {"name": "John", "age": 30};
var response = httpPost("https://api.example.com/users", data);
```

## Рекомендации

1. **Обрабатывайте ошибки**:
   ```ikl
   var content = readFile("data.txt");
   if (content == null) {
       println("Ошибка при чтении файла");
   }
   ```
2. **Проверяйте тип возвращаемого значения**:
   ```ikl
   var response = httpGet("https://api.example.com/data");
   if (typeof(response) == "string") {
       // Обработка ответа
   }
   ```
3. **Используйте подходящие функции**:
   ```ikl
   // Хорошо
   var absValue = abs(-5);
   
   // Плохо
   var absValue = (-5 < 0) ? -(-5) : -5;
   ```
4. **Документируйте использование функций**:
   ```ikl
   // Считывает данные пользователя из файла
   // Параметры:
   //   filename: string - имя файла
   // Возвращает: object|null - данные пользователя или null при ошибке
   func readUserData(filename) {
       var content = readFile(filename);
       if (content == null) {
           return null;
       }
       // Разбор и возврат данных
   }
   ```

## Типовые задачи

### Случайное число в диапазоне
```ikl
func randomInRange(min, max) {
    return min + random() * (max - min);
}
```

### Форматирование валюты
```ikl
func formatCurrency(amount) {
    return "$" + round(amount * 100) / 100;
}
```

### Вычисление возраста
```ikl
func calculateAge(birthDate) {
    var now = now();
    var age = floor((now - birthDate) / (365 * 24 * 60 * 60 * 1000));
    return age;
}
```

### Чтение JSON-файла
```ikl
func readJsonFile(filename) {
    var content = readFile(filename);
    if (content == null) {
        return null;
    }
    // Разбор JSON
    return parsedContent;
}
```

## Дальнейшие шаги

Теперь вы знаете о встроенных функциях. Перейдите к разделу [Примеры программ](/idzeykl/examples), чтобы увидеть, как использовать эти функции на практике. 